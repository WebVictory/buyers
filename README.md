# Тестовое задание

Тестовое задание
 
Разработать сервис, который будет выполнять загрузку чеков от разных 
пользователей и предоставляет возможность получить статистику по покупателю.
 
Структура БД и связей по усмотрению исполнителя.
 
Информация о чеке, которая должна содержаться в БД:
 
- покупатель
- номер чека
- магазин
- время выдачи чека
- данные о каждой позиции:
    - наименование
    - количество
    - цена
    - сумма
- сумма чека
 
Реализовать методы API, которые будут позволять:
- загружать чеки в формате json. Будет плюсом, если будет возможность пакетной
отправки (несколько чеков сразу).
- получать список товаров, купленных одним покупателем.
- получать список магазинов для одного покупателя.
- получать сумму покупок в интервале дат.
- получать список чеков с товарами в интервале дат или на конкретную дату.
 
Сервис должен работать на Django >=3.2,  API следует реализовать с помощью 
Django REST Framework. Запускаться должен с docker-compose up.
Наличие тестов будет являться плюсом.
 
Запросы к API:
1 Загрузка чека в формате json
Заголовк:

POST /api/check/
 
Тело:
 {
    "buyer": "Покупатель",
    "number": "12345",
    "store": "Магазин",
    "issue_date": "2022-07-17T15:16:17.762742+03:00",
    "check_amount": 300,
    "positions": [
        {
            "name": "Назание позции 1",
            "count": 2,
            "price": 200,
            "position_amount": 400
        },
        {
            "name": "Назание позции 2",
            "count": 3,
            "price": 50,
            "position_amount": 100
        }
    ]
}

2 Получение списка товаров, купленных одним покупателем.
 
GET /api/positons-buyer/?buyer=Name

Запрос с ответом содержащим дополонительную информацию

GET /api/positons-buyer-full/?buyer=Name

В парметре buyer передается пользователь

3 Получение списка магазинов для одного покупателя.

GET /api/store-buyer/?buyer=Name

В парметре buyer передается пользователь

4 Получение суммы покупок в интервале дат.

GET /api/sum/?start_date=2022-07-15&end_date=2022-07-20

start_date - начальная дата и время, end_date - конечная дата и время

5 получение список чеков с товарами в интервале дат:
GET  /api/check/?issue_date__gte=2022-07-15&issue_date__lte=2022-07-20
issue_date__gte - начальная дата и время(включительно), issue_date__lte - конечная дата и времяв(ключительно)

на конкретную дату:
GET /api/check/?issue_date=2022-07-18T19:01:11.198093

issue_date = дата и время выдачи чека
